# ComicParse:i漫
### 简介
开发人员:QiuChenly(963084062@qq.com)

这是一个第三方的漫画阅读APP.所有数据均来自中国国内各大APP,致谢列表在下面.

本项目仅用于研究分析学习使用,他人盗取代码二次修改打包引起的版权问题与各项后果与作者本人(秋城落叶)无关.

许可证使用MIT授权.

### 下载最新编译版
[最新每日编译版 - 2019.8.17](ComicX-release.apk)

关于漫画阅读时有些图不清晰的问题:因为原图画质很低,加载时自动适配屏幕宽高等比拉伸后就相当于放大了,所以看起来有些模糊,实际上是正常情况.

### 问题解答
1. 哔咔无法登陆,或者打开App后无法连接哔咔图片服务器

请切换服务器后重启App试试。服务器分流节点与哔咔官方app一致，请切换一下服务器分流节点(无需重启App)，然后继续你的操作。

2. 发现软件崩溃,异常卡死怎么办?

请邮箱联系我并告诉我是怎么产生的崩溃卡死,我会尽快修复这个 bug.

### UI
![](/Images/ui1.png)
![](/Images/ui2.png)
![](/Images/ui3.jpg)

### 主要开发人员
QiuChenly(秋城落叶)

### 计划的功能状态
| 序号 | 功能 | 状态 |
| ------ | ------ | ------ |
| 1 | 加载并阅读漫画 | √ |
| 2 | 缓存漫画数据 | × |
| 3 | 适配更多网站API | √ |
| 4 | 记住阅读的进度 | 正在进行... |
| 5 | 自动保存看过的漫画 | √ |
| 6 | 处理哔咔第三方API整合 | 当前正在进行... |

### 计划适配的第三方API
| 序号 | 厂商 | 协议类型(WebSite/APP) | 状态 |
| ------ | ------ | ------ | ------ |
| 2 | 动漫之家 - 据说正在翻土豆田 | APP协议 | 可以看一些首页的漫画(其实是没时间写 |
| 3 | 哔咔漫画 - 正版中国台湾出品的官方APP逆向,原汁原味 | APP协议 | 基本可以用,但是哔咔服务器不稳定,所以... |

解释:WebSite就是网站,各大D版网站属实没有牌面.我尽量全部采用APP协议,虽然他们的加密和算法很难,但是可以方便的适配.

### 致谢第三方API
1.[🈚️牌面]动漫之家APP(APP协议,暂无算法加密,只有一个SSL认证,官方使用Async-Http库.)

2.[🈚️牌面]哔咔漫画APP(APP协议,RSA Sign算法加密+SO层算法逆向,官方使用OkHttp3 双向SSL认证.)

### 开发日志
2019-08-17:
```
修复哔咔阅读漫画章节反向加载的bug.
```
2019-08-07:
```
玩了一个月,本次修复哔咔无法登录的bug.

1.同步哔咔最新API算法协议,修复登录版本过低无法请求数据的bug.
```
2019-07-07:
```
重新编译了一下，以后统一使用私有签名打包App。本次更新需要卸载旧版本，届时将会丢失所有数据，请知悉。

1.解决部分机型ROM在点击“最近浏览 与 哔咔模块中的 最近观看”时突发崩溃问题。
2.解决阅读漫画时无限卡在“加载中”的bug。
3.上线本地收藏功能。
```
2019-07-03:
```
重新接入应用崩溃分析SDK.

1.支持在线检查更新 App 辣.
2.使用国内腾讯平台为应用崩溃分析信息商.
3.节约应用 Apk 文件大小为 11MB.
```

2019-6-29:
```
修复了一个非常 sb 的错误以及增强了漫画之家.

1.今天你们打开 App 应该是直接崩溃了.没错,我也遇到了!在此声明:不关作者的事喔,是第三方Banner控件不知道发什么疯,报错闪退,垃圾开发人员吃屎吧.
2.漫画之家有些漫画是没有章节的,本次更新加了一个提示告诉用户:这漫画没上传章节,不是我 app 的问题哦.
```
2019-6-28:
```
做了一些微小的工作.

1.修复首页个人中心刷新后本地漫画与最近阅读被误设置为同一功能的 bug.
2.增加哔咔个人中心本地最近阅读功能.
3.修复哔咔个人中心最近观看数量永远为 0 的 bug.
4.修复哔咔在无法访问 cdn 服务器访问失败的情况下下拉刷新无限卡"加载中......"窗口的 bug.
5.修复了哔咔超过 40 个章节无法加载剩余章节的 bug.
```
2019-6-27:
```
更新了一些 bug 修复与功能增强.

1.搜索栏更他妈炫酷了.
2.支持哔咔女皇竞选小程序查看了.
3.解决了搜索跳转后提示"再按一下退出"的 bug
4.支持加载最近浏览漫画书总数并显示在主界面.
5.自动根据最后一次打开漫画详情页的时间排列最近阅读,你经常打开的漫画一定排在最上面.
```

2019-6-22-2019-6-26:
```
改动很多，一一列举。

6-26:
1.修复了Android P系统设备上因为明文网络安全原因导致的无法连接哔咔CDN问题。

6.25-下午:
1.更改漫画之家的接口版本（号）。
2.修复不显示哔咔漫画详情漫画封面。
3.最近阅读页可用。
4.修改部分界面。

x.下面的模块均为"最近阅读"中的。
1.支持加载漫画主题图像。
2.支持显示漫画来源
3.跳转到详细页闪退已解决。
4.清空最近阅读正在做。
5.数据库表还在建设，估计有些小问题。

6-25上午:
开始准备上线最近阅读功能。

6-24下午:
准备上线本地漫画最近阅读历史记录功能,开始筹划相关代码。

6-23晚上:
本次更新修复了最近阅读页和漫画详情页存在的两个致命内存泄露

6-23下午:
本次更新了一些bug修复与代码优化。

1.支持Banner栏漫画点击阅读。
2.重写漫画之家数据解析，精简大部分无效冗余代码。
3.火热专题 中取消显示白色底栏。
4.老子绝对不对Android 8.0、8.1低头！恢复透明背景。


```
2019-6-22:
```
修改了一些UI元素。

1.【哔咔】如果需要签到，才会在界面显示签到按钮。
2.支持漫画阅读时缩放滑动阅读。
3.重新设计App架构与分包，学习前人的经验。
4.参考了一些大佬的代码与Copy。

X.缩放列表源码来自于：https://github.com/PortgasAce/ZoomRecyclerView/blob/master/demo/src/main/java/com/portgas/view/demo/MainActivity.java

```
2019-6-19:
```
增加了哔咔服务器切换功能，优化了整体流程。

```
2019-6-17:
```
搜索界面搜索词UI修改。

```
2019-6-15 - 1:
```
分离哔咔为单独分区,同时修正了一些逻辑代码问题。

1.支持哔咔的每日打卡。
2.显示哔咔账号的用户头像与ID,并显示等级与当前经验值.
3.哔咔登录流程优化:登录授权页输入密码会显示圆点密码遮盖符等细节处理.

```
2019-6-15:
```
同步哔咔官方App增加了诸如"哔咔AI推荐、爱心排行"之类的分区.

```
2019-6-14:
```
恢复更新.

1.修复哔咔崩溃与更新最新哔咔app协议.
2.将哔咔图源默认设置加载原图，解决画质不清晰问题.
3.修正几个错误.
```
2019-4-1:
```
恢复更新.

1.重新设计了项目代码结构.
2.增加了bilibili板块.
3.支持阅读动漫之家分类漫画.
```
2019-3-25:
```
内存泄露没救了,这几天开始自闭.

1.未修复任何问题.
```
2019-3-24:
```
增加了一些新功能,修改了界面.

1.增加了BrowserView界面,支持点击加载动漫之家的公告显示.
2.ComicDetails类加入了隐式Intent传递数据,来加载漫画信息.
3.ComicApi接口类加入了获取漫画详情的接口方法getComic来获取到漫画的详情.
4.修改BasicInfo类名为ComicBasicInfo,并针对动漫之家的数据源做了针对性适配.
5.删除了ComicBasicInfo与ComicList类的getInstance()方法,改为setUI(Type)方法来设置Fragment数据,试图解决引用内存泄漏.
6.ComicListViewModel类加入了getDMZJComicList(obj_id: String)方法,来加载漫画数据.
7.ComicDetails类为动漫之家做了多数据源加载适配.
8.ComicPageAda增加了setSourceType方法,来一次性设置数据源来源,并将ItemData设置为String来动态处理数据源数据.
9.ComicPageAda类中的onViewShow针对多数据源做了适配.
10.修改enum类ComicSourcceType为ComicSourceType,修改一处单词拼写错误.
11.删除了漫画详情页的两个用不到的按钮与删除了'字母索引'和'评分'视图.
12.主分支改为SingleSource分支.master分支暂时不作处理.
13.RecentlyPagerAdapter类中的getInstance方法改为通过Fragment的引用名称来获取对应的Fragment实例.
14.mTopViewBanner修改为ViewBanner类.
15.RecommendViewModel类删除了几个冗余字段代码.
16.搜索结果页的代码微调,未造成功能性改变.
17.getDMZJRecommend方法,修改为当请求动漫之家的推荐数据请求成功后才会去加载动漫之家的漫画类别请求.
18.修改数据填充逻辑.当哔咔数据比动漫之家的数据先获取到的话,则当动漫之家的数据加载出来的时候自动让哔咔数据跑到底部.
19.支持阅读部分动漫之家漫画数据,支持加载部分动漫之家漫画数据.
20.删除了ComicReadingAdapter类中的setBikaMode方法.
21.MyAppGlideModule类中修复了动漫之家检查图片数据来源导致无法加载图片的bug.
22.支持显示阅读时漫画章节名称.
23.ReadViewModel类中增加了getDMZJImage方法.
24.支持动漫之家 - 最近更新 板块的漫画的阅读.
25.支持动漫之家 - 漫画详情页的番外与连载目录一起加载.
```
2019-3-23:
```
增加了一些新功能与UI的更改.

1.搜索结果界面的图片改为了半径为8的圆角.
2.新增了动漫之家漫画类别显示.
3.修复了Banner栏不会自动滚动的bug.(禁止用户手动滑动Banner.)
4.优化部分代码懒加载技术,节省加载时间.
```
2019-3-22:
```
1.增加了几个新的有趣API接口.
2.修正因代码OkHttp3 DNS代码初始化问题导致第一次打开APP无法登录BIKA的BUG.
3.这两天在划水.
```
2019-3-20:
```
1.修改了MainActivity为SingleTask.
2.集成Fabric分析App崩溃日志.
3.删掉了App多余的一个图像高斯模糊处理库.
4.预集成动漫之家(dmzj.com)API.
5.加入DNS解析,分别判断各个类型的DNS解析.
```